<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Club List</title>
  <link rel="stylesheet" href="styles.css">
  <script>
    async function fetchClubs() {
      const response = await fetch('fetch_clubs.php');
      const clubs = await response.json();
      const clubList = document.querySelector('.club-list');
      clubList.innerHTML = '';

      clubs.forEach((club, index) => {
        const listItem = document.createElement('li');
        listItem.classList.add('club-item');
        listItem.onclick = () => {
          window.location.href = `club_profile.php?id=${club.id}`;
        };

        const logo = document.createElement('img');
        logo.src = club.logo ? `uploads/${club.logo}` : 'placeholder.png';
        logo.alt = `${club.name} logo`;

        const text = document.createElement('div');
        text.innerHTML = `<strong>${index + 1}. ${club.name}</strong><br>Members: ${club.members}`;

        listItem.appendChild(logo);
        listItem.appendChild(text);
        clubList.appendChild(listItem);
      });
    }

    document.addEventListener('DOMContentLoaded', fetchClubs);
  </script>
</head>

<body>
  <!-- Note -->
  <div style="background:rgb(76, 67, 136);padding:5px">
    <h2 style="text-align:center; color: #ffffff;">GREEN UNIVERSITY OF BANGLADESH</h2>
  </div>

  <!-- Header -->
  <div class="header" style="background-image: url('Student\ HUB.png');">
    <h1>Student HUB</h1>
    <p>Connecting <b>Students</b> of <b>Green University of Bangladesh</b> through <b>Institutes</b>.</p>
  </div>

  <!-- Navigation Bar -->
  <div class="navbar">
    <a href="index.php">Home</a>
    <a href="registration.html">Register</a>
    <a href="clubs.html" style="background-color: #ffffff; color: #333;">Club Lists</a>
    <a href="login_signup.html">Club Login</a>
    <a href="#">About</a>
  </div>

  <!-- Club List -->
  <div class="row">
    <div class="main">
      <h2>Club List</h2>
      <ul class="club-list"></ul>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <h2>Made By Sabbir Ahmed</h2>
    <a href="https://github.com/sabbirahmed404"><img src="25231.png" alt="Sabbir Ahmed's Github" style="width:42px;height:42px;"></a>
    <a href="https://www.linkedin.com/in/msabbir-ahmed/"><img src="linkedin.png" alt="Sabbir Ahmed's Linkedin" style="width:42px;height:42px;"></a>

  </div>
</body>

</html>